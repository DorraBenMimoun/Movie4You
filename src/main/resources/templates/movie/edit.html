<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8">
  <title>Modifier un Film</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">

</head>
<body>

<!-- Inclusion de la navbar -->
<div th:insert="~{fragments/navbar :: navbar}"></div>

<div class="container my-5">
  <h3>Modifier un Film</h3>
  <div class="card">
    <div class="card-body">
      <form th:action="@{/movie/edit/{id}(id=${movie.id})}" th:object="${movie}" method="post" enctype="multipart/form-data">

        <!-- Nom du film -->
        <div class="form-group">
          <label for="name">Nom du Film</label>
          <input type="text" th:field="*{name}" class="form-control" id="name" placeholder="Nom du film">
        </div>

        <!-- Affiche actuelle -->
        <div class="form-group">
          <label >Affiche actuelle :</label><br>
          <img th:src="@{/uploads/{filename}(filename=${movie.posters})}" alt="Affiche actuelle" width="100" />
        </div>

        <!-- Nouvelle affiche -->
        <div class="form-group">
          <label >Nouvelle Affiche (Optionnel) :</label>
          <input type="file" name="posterFile" class="form-control" accept="image/*" />
        </div>

        <!-- Fond d'écran actuel -->
        <div class="form-group">
          <label >Fond d'écran actuel :</label><br>
          <img th:src="@{/uploads/{filename}(filename=${movie.wallpaper})}" alt="Fond d'écran actuel" width="100" />
        </div>
        <!-- Autres champs (durée, genre, synopsis, etc.) -->
        <div class="form-group">
          <label for="releaseDate">Date de Sortie</label>
          <input type="date" th:field="*{releaseDate}" class="form-control" id="releaseDate">
        </div>

        <div class="form-group">
          <label for="duration">Durée (minutes)</label>
          <input type="number" th:field="*{duration}" class="form-control" id="duration" placeholder="Durée">
        </div>

        <div class="form-group">
          <label for="genre">Genre</label>
          <input type="text" th:field="*{genre}" class="form-control" id="genre" placeholder="Genre">
        </div>

        <div class="form-group">
          <label for="plots">Synopsis</label>
          <input type="text" th:field="*{plots}" class="form-control" id="plots" placeholder="Synopsis">
        </div>

        <div class="form-group">
          <label for="actors">Acteurs</label>
          <input type="text" th:field="*{actors}" class="form-control" id="actors" placeholder="Acteurs">
        </div>

        <div class="form-group">
          <label for="bandeAnnonce">Bande-Annonce (URL)</label>
          <input type="text" th:field="*{bandeAnnonce}" class="form-control" id="bandeAnnonce" placeholder="URL de la bande-annonce">
        </div>

        <div class="form-group">
          <label for="realisateur">Réalisateur</label>
          <input type="text" th:field="*{realisateur}" class="form-control" id="realisateur" placeholder="Réalisateur">
        </div>

        <button type="submit" class="btn btn-primary">Modifier</button>
      </form>
    </div>
  </div>
</div>
</body>
</html>
